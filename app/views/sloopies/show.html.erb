<div class="container">
  <h1>Your Sloopy Journey</h1>

  <div class="map-container mb-4"
       data-controller="map"
       data-map-markers-value="<%= @markers.to_json %>"
       data-map-api-key-value="<%= ENV['MAPBOX_API_KEY'] %>"
       style="width: 100%; height: 400px;">
  </div>

  <div class="sloopy-details">
    <h2>Journey Details</h2>
    <p><strong>From:</strong> <%= @sloopy.origin %></p>
    <p><strong>To:</strong> <%= @sloopy.destination %></p>

    <h3>Steps</h3>
    <% @sloopy.steps.each do |step| %>
      <div class="step-card">
        <h4><%= step.city %></h4>
        <p>Transport: <%= step.transport %></p>
        <% if step.activities.any? %>
          <h5>Activities:</h5>
          <ul>
            <% step.activities.each do |activity| %>
              <li><%= activity.name %></li>
            <% end %>
          </ul>
        <% end %>
      </div>
    <% end %>
  </div>
</div>
